{"version":3,"sources":["services/persons.js","components/Button.js","components/Persons.js","components/Filter.js","components/Form.js","App.js","index.js"],"names":["url","personServices","all","axios","get","then","response","data","create","toAdd","post","remove","id","delete","put","toUpdate","Button","props","onClick","action","text","Persons","person","filter","name","toLowerCase","includes","number","Filter","value","onChange","filterHandler","Form","onSubmit","submit","nameValue","handleName","numberValue","handleNumber","type","Status","msg","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","status","setStatus","handleTimeout","setTimeout","useEffect","catch","event","target","preventDefault","Name","dup","oldPerson","length","window","confirm","updatedPerson","console","log","map","concat","current","handleRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d4ddb9b9.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst url = '/api/persons'\n\nconst all = () => {\n\tconst request = axios.get(url)\n\treturn (request.then(response => response.data))\n}\n\nconst create = (toAdd) => {\n\tconst request = axios.post(url, toAdd)\n\treturn (request.then(response => response.data))\n}\n\nconst remove = (id) => {\n\tconst request = axios.delete(`${url}/${id}`)\n\treturn (request.then(response => response.data))\n}\n\nconst put = (id, toUpdate) => {\n\tconst request = axios.put(`${url}/${id}`, toUpdate)\n\treturn (request.then(response => response.data))\n}\n\nconst personServices = {\n\tall,\n\tcreate,\n\tremove,\n\tput\n}\n\nexport default personServices","import React from 'react'\n\nconst Button = (props) => {\n\treturn (\n\t\t\t<button onClick={props.action}>{props.text}</button>\n\t)\n}\n\nexport default Button","import React from 'react'\nimport Button from './Button'\n\nconst Persons = ({person, filter, action}) => {\n\tif (person.name.toLowerCase().includes(filter.toLowerCase())) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h3>{person.name}: {person.number}  <Button action={action} id={person.id} text={'Delete'}/></h3>\n\t\t\t</div>\n\t\t)\n\t}\n\telse {\n\t\treturn (\n\t\t\t<div></div>\n\t\t)\n\t}\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>\n\t\t\t\t<h3>Search contacts</h3>\n\t\t\t\tKeyword: <input value={props.filter} onChange={props.filterHandler}/>\n\t\t</div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Form = (props) => {\n    return (\n        <form onSubmit={props.submit}>\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Add a contact</h2>\n\t\t\t\t\tName: <input value={props.nameValue} onChange={props.handleName}/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tNumber: <input value={props.numberValue} onChange={props.handleNumber}/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"submit\">Add</button>\n\t\t\t\t</div>\n\t\t\t</form>\n    )\n}\n\nexport default Form","import React, { useState, useEffect } from 'react'\nimport personServices from './services/persons'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\n\nconst Status = ({msg}) => {\n\tif (!msg) return null\n\tif (msg.toLowerCase().includes('error')) {\n\t\treturn (\n\t\t\t<div className='errorMsg'>\n\t\t\t\t<h2>{msg}</h2>\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<div className='statusMsg'>\n\t\t\t<h2>{msg}</h2>\n\t\t</div>\n\t)\n}\n\nconst App = () => {\n\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [filter, setFilter] = useState('')\n\tconst [status, setStatus] = useState(null)\n\tconst handleNameField = (event) => setNewName(event.target.value)\n\tconst handleNumberField = (event) => setNewNumber(event.target.value)\n\tconst handleFilterField = (event) => setFilter(event.target.value)\n\n\tfunction handleTimeout(msg, type) {\n\t\tsetStatus(msg)\n\t\tsetTimeout(() => {\n\t\t\tsetStatus(null)\n\t\t}, 4000)\n\t}\n\n\tconst handleRemove = (person) => {\n\t\tconsole.log('About to remove item nb', person.id)\n\t\tconst res = window.confirm(`Deleting ${person.name} from your phonebook.`)\n\t\tif (res) {\n\t\t\tpersonServices\n\t\t\t\t.remove(person.id)\n\t\t\t\t.then(response => console.log(response))\n\t\t\t.catch(() => handleTimeout('Error while deleting contact!', setStatus))\n\t\t\tsetPersons(persons.filter(current => current.id !== person.id))\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tpersonServices\n\t\t\t.all()\n\t\t\t.then(response => {\n\t\t\t\tsetPersons(response)\n\t\t\t})\n\t\t\t.catch(() => handleTimeout('Error while fetching contacts!', setStatus))\n\t}, [])\n\n\tfunction addName(event) {\n\t\tevent.preventDefault()\n\t\tconst Name = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber\n\t\t}\n\t\tconst dup = persons.filter(person => person.name.toLowerCase() === newName.toLowerCase())\n\t\tconst oldPerson = dup[0]\n\t\tif (!dup.length) {\n\t\t\tpersonServices\n\t\t\t\t.create(Name)\n\t\t\t\t.then(response => setPersons(persons.concat(response)))\n\t\t\t\t.catch(() => handleTimeout('Error while adding contact!', setStatus))\n\t\t\t//setPersons(persons.concat(Name))\n\t\t\tconsole.log('added name:', newName, 'and number:', newNumber)\n\t\t\thandleTimeout(`Successfully added ${newName}`, setStatus)\n\t\t}\n\t\telse {\n\t\t\tif (window.confirm(`${newName} is already in phonebook. Do you want to update the number?`)) {\n\t\t\t\tconst updatedPerson = {...dup[0], number: newNumber}\n\t\t\t\tconsole.log(oldPerson, updatedPerson)\n\t\t\t\tpersonServices\n\t\t\t\t\t.put(updatedPerson.id, updatedPerson)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tsetPersons(persons.map(person => (person.id !== updatedPerson.id) ? person : response))\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => handleTimeout('Error while updating contact!', setStatus))\n\t\t\t\thandleTimeout(`${newName} updated!`, setStatus)\n\t\t\t}\n\t\t}\n\t\tsetNewName('')\n\t\tsetNewNumber('')\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Phonebook</h1>\n\t\t\t<Status msg={status}/>\n\t\t\t<Filter\tvalue={filter}\n\t\t\t\t\tfilterHandler={handleFilterField}\n\t\t\t/>\n\t\t\t<Form\tsubmit={addName}\n\t\t\t\t\tnameValue={newName}\n\t\t\t\t\thandleName={handleNameField}\n\t\t\t\t\tnumberValue={newNumber}\n\t\t\t\t\thandleNumber={handleNumberField}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t{persons.map(person =>\n\t\t\t\t<div key={person.name}>\n\t\t\t\t\t<Persons\n\t\t\t\t\t\tperson={person}\n\t\t\t\t\t\tfilter={filter}\n\t\t\t\t\t\taction={() => handleRemove(person)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}